<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>测试调用</title>
  </head>
  <body>
    <br><br><br>
    <button id="btnStartRecordAudio">开始录音</button><br>
    <button id="btnStopRecordAudio">结束录音</button><br>
    <button id="btnStartRecordVideo">开始录制视频</button><br>
    <button id="btnStopRecordVideo">结束录制视频</button><br>
	<img id="image" width=800 height=600 />
	<script src="https://walnut3d.hetao101.com/u3d/test/py/vconsole.min.js"></script>
    <script>
	new VConsole();
	
	function inject(mortonH5) {
		console.log("inject is called");
	}
	
	const image = document.querySelector('#image');
	function IframeSendMessageToJs(cmd, data) {
		if (cmd == "commitVideoData") {
			image.src = "data:image/png;base64," + data;
		}
		else {
			const decodedString = atob(data);
			const jsonObject = JSON.parse(decodedString);
			console.log(data + ", " + JSON.stringify(jsonObject));
		}
	}
	
      const btn = document.querySelector('#btnStartRecordAudio');
      btn.addEventListener('click', () => {
	      console.log("content startRecordAudio");
		  window.JsSendMessageToIframe("startRecordAudio");
      });
	  
	  const btn2 = document.querySelector('#btnStopRecordAudio');
      btn2.addEventListener('click', () => {
		  window.JsSendMessageToIframe("stopRecordAudio");
      });
	  
	  const btn2a = document.querySelector('#btnStartRecordVideo');
      btn2a.addEventListener('click', () => {
		  window.JsSendMessageToIframe("startRecordVideo");
      });
	  
	  const btn3 = document.querySelector('#btnStopRecordVideo');
      btn3.addEventListener('click', () => {
		  window.JsSendMessageToIframe("stopRecordVideo");
      });
    </script>
  </body>
</html>
